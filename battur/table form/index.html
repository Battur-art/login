<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript</title>
</head>

<body>
    <div>
        <div>
            <label for="name" class="name">Name</label>
            <input type="text" name="name" id="itemName" value="test">
        </div>

        <div>
            <label for="price">Price</label>
            <input type="text" name="price" id="itemPrice">
        </div>

        <div>
            <label for="quantity">Quantity</label>
            <input type="text" name="quantity" id="itemQuantity">
        </div>

        <button id="addItembutton" onclick="addItem('asasd', 1,2)">
            Add Item
        </button>

        <div class="output">
            <h3>Inventory:</h3>
            <table id="inventoryTable">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Name</th>
                        <th>Price ($)</th>
                        <th>Quantity</th>
                        <th>Total ($)</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Inventory rows will be injected here -->
                </tbody>
            </table>

            <strong>Total Inventory Value: $<span id="totalValue">0</span></strong>
        </div>
    </div>
    <script>
        const addItembutton = document.getElementById('addItembutton')
        let nameInput = document.getElementById('name')

        class Item {
            constructor(name, price, quantity) {
                this.name = name;
                this.price = price;
                this.quantity = quantity;
            }

            getTotalPrice() {
                return this.price * this.quantity;
            }
        }

        class Inventory extends Item {
            constructor(name, price, quantity) {
                super(name, price, quantity);
                this.items = new Array();
            }

            addItem(item) {
                this.items.push(item);
            }

            removeItem(itemName) {
                let index = this.items.indexOf(this.items.find(item => item.name === itemName));
                delete this.items[index];
            }

            getInventoryValue() {
                let total = 0;
                this.items.map(item => total += item.getTotalPrice());
                return total;
            }

            getItems() {
                return this.items
            }

            printInventory() {
                let printValues = "";
                this.items.forEach(item => printValues += Object.values(item).toString() + "<br>");
                return printValues;
            }
        }

        const item1 = new Item('Laptop', 1200, 2);
        const item2 = new Item('Mouse', 25, 10);
        const item3 = new Item('Keyboard', 75, 5);
        const item4 = new Item("name4", 4, 4);
        const item5 = new Item("name5", 5, 5);

        const inventory = new Inventory();
        inventory.addItem(item1);
        inventory.addItem(item2);
        inventory.addItem(item3);
        inventory.addItem(item4);
        inventory.addItem(item5);

        inventory.removeItem("name5");

        // document.getElementById("totals").innerHTML = `total: ${inventory.getInventoryValue()}`;
        // document.getElementById("printInventory").innerHTML = inventory.printInventory();


        function addItem() {
            const name = document.getElementById('itemName').value;
            const price = parseFloat(document.getElementById('itemPrice').value);
            const quantity = parseInt(document.getElementById('itemQuantity').value);

            if (!name || isNaN(price) || isNaN(quantity)) {
                alert('Please fill in all fields correctly.');
                return;
            }

            const item = new Item(name, price, quantity);
            inventory.addItem(item);
            console.log(inventory, 'invve')
            updateDisplay();
        }


        function updateDisplay() {
            const tableBody = document.querySelector('#inventoryTable tbody');
            tableBody.innerHTML = '';

            inventory.getItems().forEach((item, index) => {
                const row = document.createElement('tr');

                row.innerHTML = `
          <td>${index + 1}</td>
          <td>${item.name}</td>
          <td>${item.price.toFixed(2)}</td>
          <td>${item.quantity}</td>
          <td>${item.getTotalPrice().toFixed(2)}</td>
        `;

                tableBody.appendChild(row);
            });

            document.getElementById('totalValue').textContent = inventory.getInventoryValue().toFixed(2);
        }

    </script>
</body>

</html>
